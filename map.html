<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MeetMate - íšŒì˜ ì¥ì†Œ</title>
    <script
      async
      src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_API_KEY&libraries=places&callback=initMap"
    ></script>
    <link rel="stylesheet" href="meetmate.css" />
    <script src="meetmate.js"></script>
    <style>
      .content {
        flex: 1;
        padding: 48px;
        max-width: 800px;
        margin: 0 auto;
      }

      .content h2 {
        font-size: 22px;
        font-weight: 600;
        margin-bottom: 8px;
        text-align: center;
      }

      .intro {
        text-align: center;
        font-size: 15px;
        color: #666;
        margin-bottom: 32px;
      }

      .meeting-card {
        background: #fff;
        border-radius: 12px;
        padding: 24px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      }

      .meeting-option label {
        margin-right: 16px;
        font-size: 16px;
      }

      #map {
        width: 100%;
        height: 400px;
        margin-top: 16px;
        display: none;
        border: 1px solid #ccc;
        border-radius: 8px;
      }

      .zoom-actions {
        display: none;
        margin-top: 16px;
      }

      .zoom-actions input {
        width: 100%;
        padding: 10px;
        margin-top: 8px;
        border: 1px solid #ccc;
        border-radius: 6px;
      }

      .tip-card {
        background: #eaf4ff;
        border-left: 4px solid #4f91ff;
        padding: 16px;
        border-radius: 8px;
        font-size: 14px;
        color: #3366cc;
        margin-top: 32px;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>
        <a href="main-home.html" style="text-decoration: none; color: inherit"
          >MeetMate</a
        >
      </h1>
      <div class="top-buttons">
        <button onclick="settings()">ì„¤ì •</button>
      </div>
    </header>
    <nav class="topnav">
      <ul>
        <li>
          <a href="program.html"><span>ğŸ§‘â€ğŸ¤â€ğŸ§‘</span>ì—­í•  ë¶„ë‹´</a>
        </li>
        <li>
          <a href="group.html"><span>ğŸ“…</span>ì¼ì • ì¡°ìœ¨</a>
        </li>
        <li class="active">
          <a href="map.html"><span>ğŸ“</span>íšŒì˜ ì¥ì†Œ</a>
        </li>
        <li>
          <a href="file-share.html"><span>ğŸ“</span>ìë£Œ ê³µìœ </a>
        </li>
        <li>
          <a href="group-result.html"><span>ğŸ“‹</span>ì „ì²´ ìš”ì•½</a>
        </li>
      </ul>
    </nav>
    <div class="main-container">
      <div class="content">
        <h2>ğŸ“ íšŒì˜ ì¥ì†Œ ì„¤ì •</h2>
        <p class="intro">
          ì›í•˜ëŠ” íšŒì˜ ë°©ì‹ì„ ì„ íƒí•˜ê³ , íšŒì˜ ì°¸ì—¬ ë˜ëŠ” ì¥ì†Œë¥¼ ì‰½ê²Œ ì„¤ì •í•˜ì„¸ìš”.
        </p>

        <div class="meeting-card">
          <div class="meeting-option">
            <p><strong>ğŸ“ íšŒì˜ ë°©ì‹ ì„ íƒ</strong></p>
            <label
              ><input type="radio" name="meetingType" value="offline" />
              ëŒ€ë©´</label
            >
            <label
              ><input type="radio" name="meetingType" value="online" />
              ë¹„ëŒ€ë©´</label
            >
          </div>

          <!-- Zoom ì „ìš© ê¸°ëŠ¥ -->
          <div class="zoom-actions" id="zoomActions">
            <button class="primary" onclick="openZoomCreation()">
              â• Zoom íšŒì˜ë°© ë§Œë“¤ê¸°
            </button>
            <button class="primary" onclick="showJoinSection()">
              ğŸ”— Zoom íšŒì˜ë°© ì°¸ì—¬í•˜ê¸°
            </button>

            <div id="zoomJoinSection" style="margin-top: 12px; display: none">
              <input
                type="text"
                id="zoomJoinLink"
                placeholder="Zoom íšŒì˜ ë§í¬ ì…ë ¥"
              />
              <button
                class="primary"
                style="margin-top: 8px"
                onclick="joinZoomMeeting()"
              >
                ğŸ“ íšŒì˜ ì°¸ì—¬
              </button>
            </div>
          </div>

          <!-- ëŒ€ë©´ìš© ì§€ë„ -->
          <div id="map"></div>
        </div>

        <!-- ì•ˆë‚´ TIP -->
        <div class="tip-card">
          <strong>ğŸ“Œ TIP</strong><br />
          - Zoomì€ ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ì´ìš©í•˜ë©´ ë” í¸ë¦¬í•´ìš”.<br />
          - ëŒ€ë©´ íšŒì˜ëŠ” ìŠ¤í„°ë””ì¹´í˜, ë„ì„œê´€ ë“± ì›í•˜ëŠ” ì¥ì†Œë¥¼ ì§ì ‘ ì„ íƒí•  ìˆ˜
          ìˆì–´ìš”.<br />
          - ìœ„ì¹˜ ê¶Œí•œì„ í—ˆìš©í•˜ë©´ ì£¼ë³€ ì¥ì†Œ ê²€ìƒ‰ì´ ë” ì •í™•í•´ì ¸ìš”.
        </div>
      </div>

      <div class="side-panel">
        <div class="card">
          <div id="today-date">ğŸ“… ì˜¤ëŠ˜ ë‚ ì§œ: -</div>
          <div id="current-time">ğŸ•’ í˜„ì¬ ì‹œê°„: -</div>
        </div>
        <div class="card motivation">
          ğŸ§¡ ì˜¤ëŠ˜ë„ ì¢‹ì€ í•˜ë£¨ ë˜ì„¸ìš”!<br />í•¨ê»˜í•˜ëŠ” ì¼ì •ì€ ë” ì†Œì¤‘í•´ìš”.
        </div>
        <div class="card">
          <button
            onclick="toggleDarkMode()"
            class="primary"
            style="width: 100%"
          >
            ğŸŒ™ ë‹¤í¬ëª¨ë“œ
          </button>
        </div>
      </div>
    </div>

    <script>
      // íšŒì˜ ë°©ì‹ ì„ íƒ
      document
        .querySelectorAll('input[name="meetingType"]')
        .forEach((radio) => {
          radio.addEventListener("change", function () {
            const zoomBox = document.getElementById("zoomActions");
            const mapEl = document.getElementById("map");

            if (this.value === "online") {
              zoomBox.style.display = "block";
              mapEl.style.display = "none";
            } else {
              zoomBox.style.display = "none";
              mapEl.style.display = "block";
              initMap();
            }
          });
        });

      // ì§€ë„
      function initMap() {
        const map = new google.maps.Map(document.getElementById("map"), {
          center: { lat: 37.5665, lng: 126.978 },
          zoom: 14,
        });

        const service = new google.maps.places.PlacesService(map);
        service.nearbySearch(
          {
            location: map.getCenter(),
            radius: 1500,
            keyword: "ìŠ¤í„°ë””ì¹´í˜",
          },
          (results, status) => {
            if (status === google.maps.places.PlacesServiceStatus.OK) {
              results.forEach((place) => {
                new google.maps.Marker({
                  map,
                  position: place.geometry.location,
                });
              });
            }
          }
        );
      }

      // Zoom ê¸°ëŠ¥
      function openZoomCreation() {
        window.open("https://zoom.us/start/videomeeting", "_blank");
      }

      function showJoinSection() {
        document.getElementById("zoomJoinSection").style.display = "block";
      }

      function joinZoomMeeting() {
        const link = document.getElementById("zoomJoinLink").value.trim();
        if (!link.startsWith("http")) {
          alert("ìœ íš¨í•œ Zoom íšŒì˜ ë§í¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }
        window.open(link, "_blank");
      }
    </script>
  </body>
</html>
